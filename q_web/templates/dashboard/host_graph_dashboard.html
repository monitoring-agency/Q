{% extends "menus.html" %}
{% block content %}
{% load static %}

<div class="dashboardContent">
    <div class="dashboardList">

    </div>
    <div class="dashboardList">
        <div class="graphColumn">
        {% for dataset_name, dataset_data in datasets.items %}
            <h3>{{ dataset_name }}</h3>x
            <div class="graphContainer">
                <canvas id="lineChart-{{ forloop.counter }}"></canvas>
                <script>
                    var lineLabels = [{% for entry in dataset_data %}'{{ entry.label }}',{% endfor %}]
                    var lineData = {
                      labels: lineLabels,
                      datasets: [{
                        label: '{{ dataset_name }}',
                        data: [{% for entry in dataset_data %} {{ entry.value }}, {% endfor %}],
                        fill: false,
                        borderColor: 'rgb(75, 192, 192)',
                        tension: 0.1
                      }]
                    };
                    var lineConfig = {
                        type: 'line',
                        data: lineData,
                        options: {
                            maintainAspectRatio: false,
                        }
                    };
                    var lineCtx = document.getElementById("lineChart-{{ forloop.counter }}");
                    var lineChart = new Chart(lineCtx, lineConfig);
                </script>
            </div>
        {% endfor %}
        </div>
    </div>
</div>
{% endblock %}